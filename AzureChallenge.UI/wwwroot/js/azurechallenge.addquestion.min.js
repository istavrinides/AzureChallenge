$(document).ready(function(){var n=["Profile.UserNameHashed","Profile.SubscriptionId","Profile.TenantId"];$('[data-toggle="tooltip"]').tooltip();$("#Text").on("input",function(){var r=$(this).val().match(/\{([^}]+)\}/g),t,u,i;r.some(n=>n.slice(1,-1).includes("{")||n.slice(1,-1).includes("}"))||(t=$("#textParamsInputGroup"),u=[],r?(t.empty(),i=0,r.forEach(function(r){r=r.slice(1,-1);u.includes(r)||(u.push(r),r.startsWith("Profile.")?n.includes(r)?(t.append("<input type='hidden' name='TextParameters["+i+"]' id='TextParameters_"+i+"_' value='"+r+"' />"),t.append("<span class='btn btn-info m-1'>"+r+"<\/span>")):t.append("<span class='btn btn-danger m-1' data-toggle='tooltip' data-placement='top' title='The profile parameter "+r+" is not a valid Profile parameter and will not be included - please correct. Available values: "+n.join()+"'>"+r+"<\/span>"):(t.append("<input type='hidden' name='TextParameters["+i+"]' id='TextParameters_"+i+"_' value='"+r+"' />"),t.append("<span class='btn btn-info m-1'>"+r+"<\/span>")),i+=1)})):t.empty())});$("#uriTabContent").on("input",".uriinput",function(){var u=$(this).val().match(/\{([^}]+)\}/g),t;if(!u.some(n=>n.slice(1,-1).includes("{")||n.slice(1,-1).includes("}"))){var e=$(this).attr("id"),r=parseInt($(this).data("index")),i=$("#"+e+"_params"),f=[];u?(i.empty(),t=0,u.forEach(function(u){u=u.slice(1,-1);f.includes(u)||(f.push(u),u.startsWith("Profile.")?n.includes(u)?(i.append("<input type='hidden' name='Uris["+r+"].UriParameters["+t+"]' id='Uris_"+r+"__UriParameters_"+t+"_' data-index='"+t+"' value='"+u+"' />"),i.append("<span class='btn btn-info m-1'>"+u+"<\/span>")):i.append("<span class='btn btn-danger m-1' data-toggle='tooltip' data-placement='top' title='The profile parameter "+u+" is not a valid Profile parameter and will not be included - please correct. Available values: "+n.join()+"'>"+u+"<\/span>"):(i.append("<input type='hidden' name='Uris["+r+"].UriParameters["+t+"]' id='Uris_"+r+"__UriParameters_"+t+"_' data-index='"+t+"' value='"+u+"' />"),i.append("<span class='btn btn-info m-1'>"+u+"<\/span>")),t+=1)})):i.empty()}});$("#uriTabContent").on("click",".btnRemoveUri",function(){var t=parseInt($(this).data("index")),i,n,r;for($("#uri-"+t+"-content").remove(),$("#uri-"+t+"-tab").remove(),$("#answer-"+t+"-tab").remove(),$("#answer-"+t+"-content").remove(),i=0,$("#uriTab a.uriNavItem").each(function(){var n=parseInt($(this).data("index"));n>i&&(i=n)}),n=t+1;n<i+1;n++)$("#uri-"+n+"-tab").attr("href","#uri-"+(n-1)+"-content"),$("#uri-"+n+"-tab").attr("aria-controls","uri-"+(n-1)+"-content"),$("#uri-"+n+"-tab").text("Uri #"+n),$("#uri-"+n+"-tab").attr("id","uri-"+(n-1)+"-tab"),$("#uri-"+n+"-content").attr("aria-labelledby","uri"+(n-1)+"-tab"),$("#uri-"+n+"-content").attr("id","uri-"+(n-1)+"-content"),$("#Uris_"+n+"__Id").attr("name","Uris["+(n-1)+"].Id"),$("#Uris_"+n+"__Id").val(n-1),$("#Uris_"+n+"__Id").attr("id","Uris_"+(n-1)+"__Id"),$("#Uris_"+n+"__Uri").attr("name","Uris["+(n-1)+"].Uri"),$("#Uris_"+n+"__Uri").attr("id","Uris_"+(n-1)+"__Uri"),$("Uris_"+n+"__CallType").attr("name","Uris["+(n-1)+"].CallType"),$("Uris_"+n+"__CallType").attr("id","Uris_"+(n-1)+"__CallType"),$("#Uris_"+n+"__Uri_params input").each(function(){var t=parseInt($(this).data("index"));$(this).attr("name","Uris["+(n-1)+"].UriParameters["+t+"]");$(this).attr("id","Uris_"+(n-1)+"__UriParameters_"+t+"_")}),$("#Uris_"+n+"__Uri_params").attr("id","Uris_"+(n-1)+"__Uri_params"),$("#Uris_"+n+"_Uri_remove").attr("id","Uris_"+(n-1)+"_Uri_remove"),$("button[data-index='"+n+"']").attr("data-index",n-1);r=0;r=t>i?t-1:t===i?i:t;$("#uri-"+r+"-tab").trigger("click")});$("#addUriLink").on("click",function(n){n.preventDefault();var t=0,i=!1;$("#uriTab a.uriNavItem").each(function(){i=!0;var n=parseInt($(this).data("index"));n>t&&(t=n)});i&&(t+=1);$(this).parent().before("<li class='nav-item'>                 <a class='nav-link uriNavItem' id='uri-"+t+"-tab' data-toggle='tab' href='#uri-"+t+"-content' role='tab' aria-controls='uri-"+t+"-content' aria-selected='false' data-index='"+t+"'> Uri #"+(t+1)+"<\/a>             <\/li>");$("#uriTabContent").append("<div class='tab-pane fade' id='uri-"+t+"-content' role='tabpanel' aria-labelledby='uri"+t+"-tab'>                 <input type='hidden' name='Uris["+t+"].Id' id='Uris_"+t+"__Id' value='"+t+"' />                 <div class='input-group mb-3'>                     <select class='selectpicker' name='Uris["+t+"].CallType' id='Uris_"+t+"__CallType'>                         <option selected>GET<\/option>                     <\/select >                     <input name='Uris["+t+"].Uri' id='Uris_"+t+"__Uri' data-index='"+t+"' class='form-control uriinput' />                 <\/div >                 <small class='form-text text-muted'>Please enter the Uri for the API to call. Placeholders that will be replaced from below parameters should be wrapped inside curly braces {}.<\/small>                 <br />                 <div class='form-group'>                         <div class='col-md-12 pl-0' >                             <span>Discovered parameters:<\/span>                         <\/div >                     <div id='Uris_"+t+"__Uri_params' class='form-group row col-md-12'><\/div>                 <\/div>                 <div class= 'text-right'>                     <button type='button' class='btn btn-warning btnRemoveUri' id='Uris_"+t+"_Uri_remove' data-index='"+t+"'>Remove this Uri<\/button>                 <\/div >             <\/div>");$("#Uris_"+t+"__CallType").selectpicker();i||$("#uri-0-tab").trigger("click")})});